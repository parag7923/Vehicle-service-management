<div class="admin-user-card">
  <div class="card-header">
    <h2>Customer List</h2>
    <form class="search-form" [formGroup]="searchForm" (ngSubmit)="onSearch()">
      <input type="text" formControlName="username" placeholder="Enter username to search...">
      <button type="submit" class="btn btn-search">
        <i class="fas fa-search"></i> Search
      </button>
    </form>
  </div>
 
  <div class="table-wrapper" *ngIf="filteredCustomers.length > 0; else noResults">
    <table>
      <thead>
        <tr>
          <th>S. NO</th>
          <th>Username</th>
          <th>Email</th>
          <th>Mobile Number</th>
          <th>Role</th>
          <th class="action-column">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of filteredCustomers; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ user.username }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.mobileNumber }}</td>
          <td>{{ user.userRole }}</td>
          <td class="action-column">
            <button class="btn btn-delete" (click)="onDeleteUser(user.userId)">
              <i class="fas fa-trash-alt"></i> Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
 
  <ng-template #noResults>
    <div *ngIf="userNotFound" class="not-found-message">
      <i class="fas fa-exclamation-circle"></i> User not found.
    </div>
    <div *ngIf="allCustomers.length === 0 && !userNotFound" class="not-found-message">
      No customers are available to display.
    </div>
  </ng-template>
</div>
 
<!-- Confirmation Popup -->
<div *ngIf="showConfirmPopup" class="popup-overlay">
  <div class="popup-content confirmation">
    <h2>Confirm Delete</h2>
    <p>Are you sure you want to delete this user?</p>
    <div class="popup-buttons">
      <button type="button" class="confirm-btn" (click)="confirmDelete()">Yes</button>
      <button type="button" class="cancel-btn" (click)="cancelDelete()">No</button>
    </div>
  </div>
</div>
 
<!-- Success Popup -->
<div *ngIf="showSuccessPopup" class="popup-overlay">
  <div class="popup-content success">
    <h2>Success</h2>
    <p>{{ successMessage }}</p>
    <button type="button" class="ok-btn" (click)="closePopup()">OK</button>
  </div>
</div>