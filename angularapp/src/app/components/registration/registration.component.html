<div class="fullscreen-wrapper">
  <div class="main-container">
    <div class="form-section">
      <h2>Registration</h2>
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <!-- Username -->
        <label for="username">Username*</label>
        <input type="text" id="username" formControlName="username" placeholder="Enter a username" />
        <div *ngIf="registerForm.controls.username?.touched && registerForm.controls.username?.invalid" class="error-message">
          <div *ngIf="registerForm.controls.username.errors?.required">Username is required.</div>
          <div *ngIf="registerForm.controls.username.errors?.minlength">Minimum 5 characters required.</div>
          <div *ngIf="registerForm.controls.username.errors?.maxlength">Maximum 10 characters allowed.</div>
          <div *ngIf="registerForm.controls.username.errors?.pattern">Must start with a letter and contain only letters, numbers, or underscores.</div>
        </div>
 
        <!-- Email -->
        <label for="email">Email*</label>
        <input type="text" id="email" formControlName="email" placeholder="Enter your email" />
        <div *ngIf="registerForm.controls.email?.touched && registerForm.controls.email?.invalid" class="error-message">
          <div *ngIf="registerForm.controls.email.errors?.required">Email is required.</div>
          <div *ngIf="registerForm.controls.email.errors?.pattern">Invalid Email Format</div>
        </div>
 
        <!-- Password -->
        <label for="password">Password*</label>
        <div class="password-wrapper">
          <input [type]="passwordFieldType" id="password" formControlName="password" placeholder="Create a password" />
          <!-- Password Toggle Button -->
          <span class="password-toggle-icon" (click)="togglePasswordVisibility()" (keydown)="handleKeyPress($event)">
            <svg *ngIf="passwordFieldType === 'password'" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 10.224 6.365 7.5 12 7.5c5.635 0 8.573 2.724 9.964 4.183.37.362.37.951 0 1.313C20.573 14.776 17.635 17.5 12 17.5c-5.635 0-8.573-2.724-9.964-4.183Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" /></svg>
            <svg *ngIf="passwordFieldType === 'text'" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L12 12" /></svg>
          </span>
        </div>
        <div *ngIf="registerForm.controls.password?.touched && registerForm.controls.password?.invalid" class="error-message">
          <div *ngIf="registerForm.controls.password.errors?.required">Password is required.</div>
          <div *ngIf="registerForm.controls.password.errors?.minlength">Minimum 8 characters required.</div>
          <div *ngIf="registerForm.controls.password.errors?.pattern">Must include uppercase, lowercase, number, and special character.</div>
        </div>
 
        <!-- Confirm Password -->
        <label for="confirmPassword">Confirm Password*</label>
        <div class="password-wrapper">
          <input [type]="confirmPasswordFieldType" id="confirmPassword" formControlName="confirmPassword" placeholder="Confirm your password" />
          <!-- Confirm Password Toggle Button -->
          <span class="password-toggle-icon" (click)="toggleConfirmPasswordVisibility()"  (keydown)="handleKeyPress($event)">

            <svg *ngIf="confirmPasswordFieldType === 'password'" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 10.224 6.365 7.5 12 7.5c5.635 0 8.573 2.724 9.964 4.183.37.362.37.951 0 1.313C20.573 14.776 17.635 17.5 12 17.5c-5.635 0-8.573-2.724-9.964-4.183Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" /></svg>
            <svg *ngIf="confirmPasswordFieldType === 'text'" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L12 12" /></svg>
          </span>
        </div>
        <div *ngIf="registerForm.get('confirmPassword')?.touched" class="error-message">
          <div *ngIf="registerForm.get('confirmPassword')?.errors?.required">Confirm Password is required.</div>
          <div *ngIf="registerForm.hasError('mismatch')">Passwords do not match.</div>
        </div>
 
        <!-- Mobile Number -->
        <label for="mobileNumber">Mobile Number*</label>
        <input type="text" id="mobileNumber" formControlName="mobileNumber" placeholder="Enter 10-digit mobile number" />
        <div *ngIf="registerForm.controls.mobileNumber?.touched && registerForm.controls.mobileNumber?.invalid" class="error-message">
          <div *ngIf="registerForm.controls.mobileNumber.errors?.required">Mobile number is required.</div>
          <div *ngIf="registerForm.controls.mobileNumber.errors?.pattern">Enter a valid 10-digit number starting with 6, 7, 8, or 9.</div>
        </div>
 
        <!-- Role -->
        <label for="role">Role*</label>
        <div class="role-selection-container" id="role">
          <label class="role-option">
            <input type="radio" value="USER" name="userRole" formControlName="userRole" />
            <span>User</span>
          </label>
          <label class="role-option">
            <input type="radio" value="ADMIN" name="userRole" formControlName="userRole" />
            <span>Admin</span>
          </label>
        </div>
        <div *ngIf="registerForm.controls.userRole?.touched && registerForm.controls.userRole?.invalid" class="error-message">
          Role is required.
        </div>
 
 
        <!-- Alert Boxes for Success/Error Messages -->
        <div *ngIf="successMessage" class="alert alert-success">
          {{ successMessage }}
        </div>
        <div *ngIf="errorMessage" class="alert alert-danger">
          {{ errorMessage }}
        </div>
        <!-- End of Alert Boxes -->
 
 
        <!-- Submit Button -->
        <button type="submit" [disabled]="registerForm.invalid">Register</button>
      </form>
    </div>
  </div>
</div>
